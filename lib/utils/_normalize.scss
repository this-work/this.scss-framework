////
///
/// Normalize Libary
///
/// @group Normalize
/// @since 2.0.0
///
////



///
/// Default normalize font dimension
///
/// Can be defined as font-dimension name
/// @type string
///
$default-normalize-font-dimension: if(variable-exists(default-font-dimensions), false, $default-font-dimensions) !default;



///
/// Default normalize bold font weight
///
/// Can be defined as number, string or font-dimension name
/// @type string
///
$default-normalize-bold-weight: bolder !default;



///
/// Default normalize word break
/// @type string
///
$default-normalize-word-break: break-word !default;



///
/// Mixin to normalize the document
///
///
/// `html`
///
/// **box-sizing:** Apply a natural box layout model to all elements.
///
/// **font-size:** Set the font in relative mode to 100% and in absolute mode to the browser standard of 16px
///
/// **word-break:** Breaks words to prevent overflow in all browsers.line-height:** Set the line height in all browsers.
///
/// **tab-size:** Use a 4-space tab width in all browsers.
///
/// **cursor:** Use the default cursor in all browsers.
///
/// **-webkit-tap-highlight-color:** Remove the grey highlight on links in iOS.
///
/// **-ms-text-size-adjust:** Prevent adjustments of font size after orientation changes in IE on Windows Phone and in iOS.
///
///
/// `*, *:before, *:after`
///
/// **box-sizing:** Apply a natural box layout model to all elements.
///
///
/// `body`
///
/// **margin:** Remove the margin in all browsers.
///
/// **padding:** Remove the padding in all browsers.
///
@mixin normalize-document(
    $normalize-word-break: $default-normalize-word-break
) {


    html {
        box-sizing: border-box;

        @if (variable-exists(default-unit-type) and $default-unit-type != 'absolute') {

            font-size: 100%;

        } @else {

            font-size: 16px;

        }

        word-break: $normalize-word-break;
        tab-size: 4;
        cursor: default;

        -webkit-tap-highlight-color: transparent;
        -webkit-focus-ring-color:  transparent;

        -ms-text-size-adjust: 100%;
        -webkit-text-size-adjust: 100%;
    }

    *, *:before, *:after {
        box-sizing: inherit;
    }

    body {

        margin: 0;
        padding: 0;

    }

}



///
/// Mixin to normalize sections
///
/// `main`, `details`, `summary`, `template`
///
/// **display:** Render the elements consistently in IE.
///
@mixin normalize-sections() {

    main, details {
        display: block;
    }

    summary {
        display: list-item;
    }

    template, [hidden] {
        display: none;
    }

}



///
/// Mixin to normalize text semantics
///
///
/// `pre`
///
/// **font-family** Correct the inheritance and scaling of font size in all browsers.
///
/// **font-size** Correct the odd `em` font sizing in all browsers.
///
///
/// `a`
///
/// **background-color** Remove the gray background on active links in IE 10.
///
///
/// `abbr[title]`
///
/// **border-bottom** Remove the bottom border in Chrome 57-.
///
/// **text-decoration** Add the correct text decoration in Edge 18-, IE, and Safari.
///
///
/// `b, strong`
///
/// **font-weight**  Add the correct font weight in Chrome, Edge, and Safari.
///
///
/// `code, kbd, samp`
///
/// **font-family** Correct the inheritance and scaling of font size in all browsers.
///
/// **font-size** Correct the odd `em` font sizing in all browsers.
///
///
/// `small`
///
/// **font-size** Add the correct font size in all browsers.
///
///
/// `sub, sup`
///
/// Prevent `sub` and `sup` elements from affecting the line height in all browsers.
///
@mixin normalize-text-semantics(
    $normalize-bold-weight: $default-normalize-bold-weight
) {

    @if (function-exists(font-weight) and
         type-of($normalize-bold-weight) == string and
         str-is-quoted($normalize-bold-weight)
    ) {

        $normalize-bold-weight: font-weight($normalize-bold-weight)

    }

    pre {
        font-family: monospace, monospace;
        font-size: 1em;
    }

    a {
        -ms-touch-action: manipulation;
        touch-action: manipulation;
        -webkit-tap-highlight-color: transparent;
        -webkit-focus-ring-color:  transparent;
        background-color: transparent;
    }

    abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        text-decoration: underline dotted;

    }

    b, strong {
        font-weight: $normalize-bold-weight;
    }

    code, kbd, samp {
        font-family: monospace, monospace;
        font-size: 1em;
    }

    small {
        font-size: 80%;
    }

    sub, sup {
        position: relative;
        font-size: 75%;
        line-height: 0;
        vertical-align: baseline;
    }

    sub {
        bottom: -0.25em;
    }

    sup {
        top: -0.5em;
    }

}



///
/// Mixin to normalize media elements
///
///
/// `audio, canvas, iframe, img, svg, video`
///
/// **vertical-align** Change the alignment on media elements in all browsers.
///
/// **max-width** Disallow image overflow
///
/// **border-style** Remove the border on images within links in IE 10-.
///
///
/// `audio, video`
///
/// **display** Add the correct display in IE 9-.
///
///
/// `iframe`
///
/// **border-style** Remove the border on iframes in all browsers.
///
///
/// `svg:not([fill])`
///
/// **fill** Change the fill color to match the text color in all browsers.
///
///
/// `svg:not(:root)`
///
/// **overflow** Hide the overflow in IE.
///
@mixin normalize-media() {

    audio, canvas, iframe, img, svg, video {
        max-width: 100%;
        vertical-align: middle;
        border-style: none;
    }

    audio, video {
        display: inline-block;
    }

    iframe {
        border-style: none;
    }

    svg:not([fill]) {
        fill: currentColor;
    }

    svg:not(:root) {
        overflow: hidden;
    }

}



///
/// Mixin to normalize form/ui elements
///
///
/// `button, input, optgroup, select, textarea`
///
/// Change the font styles in all browsers.
///
/// **margin** Remove the margin in Firefox and Safari.
///
///
/// `textarea`
///
/// **overflow** Remove the default vertical scrollbar in IE 10+.
///
/// **resize** Disallow horizontal resizing because ... why not?
///
///
/// `fieldset`
///
/// **padding** Remove the default padding in all browsers.
///
///
/// `legend`
///
/// Correct the text wrapping in Edge and IE.
///
/// **color** Correct the color inheritance from `fieldset` elements in IE.
///
/// **padding** Remove the padding so developers are not caught out when they zero out `fieldset` elements in all browsers.
///
///
/// `progress`
///
/// **vertical-align** Add the correct vertical alignment in Chrome, Firefox, and Opera..
///
///
/// `area, button, input, label, select, summary, textarea, [tabindex]`
///
/// **touch-action** Remove the tapping delay on clickable elements in all browsers.
///
/// **-webkit-tap-highlight-color** Remove the grey highlight on links in iOS.
///
/// **-webkit-focus-ring-color** Remove the grey highlight on links in iOS.
///
///
/// `button, input`
///
/// **overflow** Show the overflow in IE.
///
///
/// `button, select`
///
/// **text-transform** Remove the inheritance of text transform in Firefox.
///
///
/// `button, [type='button'], [type='reset'], [type='submit']`
///
/// **-webkit-appearance** Correct the inability to style clickable types in iOS and Safari.
///
/// **background-image** Firefox <35 for Android sets a default background-image gradient on all buttons (see Bug 763671). This can be disabled using background-image: none.
///
///
/// `button::-moz-focus-inner, [type='button']::-moz-focus-inner, [type='reset']::-moz-focus-inner, [type='submit']::-moz-focus-inner`
///
/// **padding**  Remove the inner padding in Firefox.
///
/// **border-style**  Remove the inner border in Firefox.
///
///
/// `button:-moz-focusring, [type='button']:-moz-focusring, [type='reset']:-moz-focusring, [type='submit']:-moz-focusring`
///
/// **outline** Restore the focus styles unset by the previous rule.
///
///
/// `[type='checkbox'], [type='radio']`
///
/// **padding** Remove the padding in IE 10-.
///
///
/// `[type='number']::-webkit-inner-spin-button, [type='number']::-webkit-outer-spin-button`
///
/// **height** Correct the cursor style of increment and decrement buttons in Chrome.
///
///
/// `[type='search']`
///
/// **-webkit-appearance** Correct the odd appearance in Chrome and Safari.
///
/// **outline-offset** Correct the outline style in Safari.
///
///
/// `[type='search']::-webkit-search-decoration`
///
/// **-webkit-appearance** Remove the inner padding in Chrome and Safari on macOS.
///
///
/// `::-webkit-input-placeholder, :-moz-placeholder, ::-moz-placeholder, :-ms-input-placeholder`
///
/// **color** Inherit colors in all Browsers.
///
/// **opacity** Set opacity colors in all Browsers.
///
///
/// `::-webkit-file-upload-button`
///
/// **font** hange font properties to `inherit` in Safari.
///
/// **-webkit-appearance** Correct the inability to style clickable types in iOS and Safari.
///
///
/// `:-moz-ui-invalid`
///
/// **box-shadow** Remove the additional :invalid styles in Firefox.
///
@mixin normalize-ui(
    $normalize-font-dimension: $default-normalize-font-dimension
) {

    $normalize-line-height: 1.45;

    @if (function-exists(line-height) and $normalize-font-dimension) {

        $normalize-line-height: line-height($normalize-font-dimension)

    }

    button, input, optgroup, select, textarea {
        margin: 0;
        font-family: inherit;
        font-size: 100%;
        line-height: $normalize-line-height;
    }

    textarea {
        overflow: auto;
        resize: vertical;
    }

    fieldset {
        padding: 0;
    }

    legend {
        display: table;
        max-width: 100%;
        padding: 0;
        color: inherit;
        white-space: normal;
    }

    progress {
        display: inline-block;
        vertical-align: baseline;
    }

    area, button, input, label, select, summary, textarea, [tabindex] {
        -ms-touch-action: manipulation;
        touch-action: manipulation;
        -webkit-tap-highlight-color: transparent;
        -webkit-focus-ring-color:  transparent;
    }

    button, input {
        overflow: visible;

        &[disabled] {
            cursor: default;
        }
    }

    button, select {
        text-transform: none;
    }

    button,
    [type='button'],
    [type='reset'],
    [type='submit'] {
        font: inherit;
        outline: none;
        background-image: none;
        -webkit-appearance: button;
    }

    button::-moz-focus-inner,
    [type='button']::-moz-focus-inner,
    [type='reset']::-moz-focus-inner,
    [type='submit']::-moz-focus-inner {
        padding: 0;
        border-style: none;
    }

    button:-moz-focusring,
    [type='button']:-moz-focusring,
    [type='reset']:-moz-focusring,
    [type='submit']:-moz-focusring {
        outline: 1px dotted ButtonText;
    }

    [type='checkbox'],
    [type='radio'] {
        padding: 0;
    }

    [type='number']::-webkit-inner-spin-button,
    [type='number']::-webkit-outer-spin-button {
        height: auto;
    }

    [type='search'] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
    }


    [type='search']::-webkit-search-decoration {
        -webkit-appearance: none;
    }

    ::-webkit-input-placeholder,
    :-moz-placeholder,
    ::-moz-placeholder,
    :-ms-input-placeholder {
        color: inherit;
        opacity: 0.54;
    }

    ::-webkit-file-upload-button {
        font: inherit;
        -webkit-appearance: button;
    }

    :-moz-ui-invalid {
        box-shadow: none;
    }

}



///
/// Mixin to normalize misc elements
///
///
/// `hr`
///
/// **height** Add the correct sizing in Firefox.
///
/// **overflow** Show the overflow in Edge 18- and IE.
///
@mixin normalize-misc() {

    hr {
        height: 0;
        overflow: visible;
    }

}



///
/// Mixin to normalize base
/// Includes all normalize mixins to complete normalize a document
///
@mixin generate-normalize() {

    @include normalize-document();

    @include normalize-sections();

    @include normalize-text-semantics();

    @include normalize-media();

    @include normalize-ui();

    @include normalize-misc();

}
